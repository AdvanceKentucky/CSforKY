FusionCharts.ready(function () {
    // chart instance
    var chart = new FusionCharts({
        type: "kentucky",
        renderAt: "chart-container", // container where chart will render
        width: "100%",
        height: "100%",
        dataFormat: "json",
        dataSource: {
            "chart": {
              "showCanvasBorder": "0",
              "caption": "Kentucky Computer Science Pledges by County",
              "subcaption": " 2019-2020 ",
              "includevalueinlabels": "0",
              "labelsepchar": ": ",
              "formatNumberScale": "0",
              "nullEntityColor": "#D7DBDD",
              //  "nullEntityAlpha": "50",
              "entityFillHoverColor": "#FFC300",
              "theme": "fusion"
            }, // End chart initialization 
   
     "colorrange": {
          "color": [{
             "minvalue": "0",
             "maxvalue": "0",
             "code": "#D7DBDD",
             "displayValue": "No pledges"
                },{
              "minvalue": "1",
              "maxvalue": "10",
              "code": "#D7BDE2",
              "displayValue": "1-10"
            },{
              "minvalue": "11",
              "maxvalue": "50",
              "code": "#85C1E9",
              "displayValue": "11-50"
            },{
              "minvalue": "51",
              "maxvalue": "100",
              "code": "#7DCEA0",
              "displayValue": "51-100"
            },{
              "minvalue": "100",
              "maxvalue": "1000000000",
              "code": "#0C72F0",
              "displayValue": "> 100"
            }]
        }, //End color gradient

    "data":[
    {
                "id": "001",
            "value": 0
            },
    {
    "id": "003",
    "value": 0
    },
    {
    "id": "005",
    "value": 0
    },
    {
    "id": "007",
    "value": 0
    },
    {
    "id": "009",
    "value": 0
    },
    {
    "id": "011",
    "value": 0
    },
    {
    "id": "013",
    "value": 0
    },
    {
    "id": "015",
    "value": 0
    },
    {
    "id": "017",
    "value": 0
    },
    {
    "id": "019",
    "value": 0
    },
    {
    "id": "021",
    "value": 0
    },
    {
    "id": "023",
    "value": 0 
    },
            {
            "id": "025",
            "value": 0
        },
    {
    "id": "027",
    "value": 0
    },
    {
    "id": "029",
    "value": 0
    },
    {
    "id": "031",
    "value": 0
    },
    {
    "id": "033", 
    "value": 0
    },
    {
    "id": "035",
    "value": 0
    },
    {
    "id": "037",
    "value": 0
    },
    {
    "id": "039",
    "value": 0
    },
    {
    "id": "041",
    "value": 0
    },
    {
    "id": "043",
    "value": 0
    },
    {
    "id": "045",
    "value": 0
    },
    {
    "id": "047",
    "value": 0
    },
    {
    "id": "049",
    "value": 0
    },
    {
    "id": "051",
    "value": 0
    },
    {
    "id": "053",
    "value": 0
    },
    {
    "id": "055",
    "value": 0
    },
    {
    "id": "057",
    "value": 0
    },
    {
    "id": "059",
    "value": 0
    },
    {
    "id": "061",
    "value": 0
    },
    {
    "id": "063",
    "value": 0
    },
    {
    "id": "065",
    "value": 0
    },
    {
    "id": "067",
    "value": 0
    },
    {
    "id": "069",
    "value": 0
    },
    {
    "id": "071",
    "value": 0
    },
    {
    "id": "073",
    "value": 0
    },
    {
    "id": "075",
    "value": 0
    },
    {
    "id": "077",
    "value": 0
    },
    {
    "id": "079",
    "value": 0
    },
    {
    "id": "081",
    "value": 0
    },
    {
    "id": "083",
    "value": 0
    },
    {
    "id": "085",
    "value": 0
    },
    {
    "id": "087",
    "value": 0
    },
    {
    "id": "089",
    "value": 0
    },
    {
    "id": "091",
    "value": 0
    },
    {
    "id": "093",
    "value": 0
    },
    {
    "id": "095",
    "value": 0
    },
    {
    "id": "097",
    "value": 0
    },
    {
    "id": "099",
    "value": 0
    },
    {
    "id": "101",
    "value": 0
    },
    {
    "id": "103",
    "value": 0
    },
    {
    "id": "105",
    "value": 0
    },
    {
    "id": "107",
    "value": 0
    },
    {
    "id": "109", 
    "value": 0
    },
    {
    "id": "111",
    "value": 0
    },
    {
    "id": "113",
    "value": 0
    },
    {
    "id": "115",
    "value": 0
    },
    {
    "id": "117",
    "value": 0
    },
    {
    "id": "119",
    "value": 0
    },
    {
    "id": "121",
    "value": 0
    },
    {
    "id": "123",
    "value": 0
    },
    {
    "id": "125",
    "value": 0
    },
    {
    "id": "127",
    "value": 0
    },
    {
    "id": "129",
    "value": 0
    },
    {
    "id": "131",
    "value": 0
    },
    {
    "id": "133",
    "value": 0
    },
    {
    "id": "135",
    "value": 0
    },
    {
    "id": "137",
    "value": 0
    },
    {
    "id": "139",
    "value": 0
    },
    {
    "id": "141",
    "value": 0
    },
    {
    "id": "143",
    "value": 0
    },
    {
    "id": "151",
    "value": 0
    },
    {
    "id": "153",
    "value": 0
    },
    {
    "id": "155",
    "value": 0
    },
    {
    "id": "157",
    "value": 0
    },
    {
    "id": "159",
    "value": 0
    },
    {
    "id": "161",
    "value": 0
    },
    {
    "id": "145",
    "value": 0
    },
    {
    "id": "147",
    "value": 0
    },
    {
    "id": "149",
    "value": 0
    },
    {
    "id": "163",
    "value": 0
    },
    {
    "id": "165",
    "value": 0
    },
    {
    "id": "167",
    "value": 0
    },
    {
    "id": "169",
    "value": 0
    },
    {
    "id": "171",
    "value": 0
    },
    {
    "id": "173",
    "value": 0
    },
    {
    "id": "175",
    "value": 0
    },
    {
    "id": "177",
    "value": 0
    },
    {
    "id": "179",
    "value": 0
    },
    {
    "id": "181",
    "value": 0
    },
    {
    "id": "183",
    "value": 0
    },
    {
    "id": "185",
    "value": 0
    },
    {
    "id": "187",
    "value": 0
    },
    {
    "id": "189",
    "value": 0
    },
    {
    "id": "191",
    "value": 0
    },
    {
    "id": "193",
    "value": 0
    },
    {
    "id": "195",
    "value": 0
    },
    {
    "id": "197",
    "value": 0
    },
    {
    "id": "199",
    "value": 0
    },
    {
    "id": "201",
    "value": 0
    },
    {
    "id": "203",
    "value": 0
    },
    {
    "id": "205",
    "value": 0
    },
    {
    "id": "207",
    "value": 0
    },
    {
    "id": "209",
    "value": 0
    },
    {
    "id": "211",
    "value": 0
    },
    {
    "id": "213",
    "value": 0
    },
    {
    "id": "215",
    "value": 0
    },
    {
    "id": "217",
    "value": 0
    },
    {
    "id": "219",
    "value": 0
    },
    {
    "id": "221",
    "value": 0
    },
    {
    "id": "223",
    "value": 0
    },
    {
    "id": "225",
    "value": 0
    },
    {
    "id": "227",
    "value": 0
    },
    {
    "id": "229", 
    "value": 0
    },
    {
    "id": "231",
    "value": 0
    },
    {
    "id": "233",
    "value": 0
    },
    {
    "id": "235",
    "value": 0
    },
    {
    "id": "237",
    "value": 0
    },
        {
            "id": "239",
            "value": 0
        }],
},

"events": {
        "beforeRender": function(evt, args) {
      var textArea = document.createElement("textarea");
      textArea.setAttribute("id", "message");
      textArea.setAttribute("rows", "4");
      textArea.setAttribute("cols", "75");
      textArea.style.cssText = "margin-left:15px;text-align:center;display:block;";
      textArea.innerHTML = "Hover on respective counties to see the number of pledges";
      args.container.appendChild(textArea);
      },
     
"entityRollover": function(evt, data) {
      document.getElementById('message').value = "" + data.label + "\n" + "# of pledges: " + data.value;
      },

"entityRollout": function(evt, data) {
      document.getElementById('message').value = "Hover on respective counties to see the number of pledges";
      },

"entityClick": function(evt, data) {
      alert("You have clicked on " + data.label + ".");
      },

      }
    }).render();
});

document.addEventListener('DOMContentLoaded', () => {
   
  // county_id is number and name of county
  
  county_map = [
    {
      county_id: ["001", "Adair"],
      counter: 0 
    }
  ]

  // get county from from
  document.querySelector('#pledge_form').onsubmit = () => {

    // get county data from form
    var county = document.querySelector('#county');

    // find county in county_map list
    var i = 0;
    for (i in county_map) {
      if (county_map[i].county_id[1] === county) {
        county_map[i].counter += 1;
        break;
      }
    }




  }
})